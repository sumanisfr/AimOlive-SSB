<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AimOlive | TAT SET ALPHA-03</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Chakra+Petch:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --od-green: #3a4b2c;       /* Deep Indian Army Green */
      --tactical-tan: #d2b48c;   /* Desert Tan */
      --alert-red: #e74c3c;
      --tech-cyan: #00ffcc;      /* For AI highlights */
    }

    body {
      font-family: 'Roboto Condensed', sans-serif;
      background-color: #f0f2ed;
      background-image: radial-gradient(#3a4b2c 0.5px, transparent 0.5px), radial-gradient(#3a4b2c 0.5px, #f0f2ed 0.5px);
      background-size: 20px 20px;
      color: #333;
    }

    /* === 1. TACTICAL NAVBAR === */
    .navbar {
      background: linear-gradient(90deg, var(--od-green), #232d1a);
      border-bottom: 4px solid var(--tactical-tan);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .navbar-brand {
      font-family: 'Black Ops One', cursive;
      letter-spacing: 1.5px;
      color: var(--tactical-tan) !important;
    }
    .badge-rank {
      background: rgba(0,0,0,0.3);
      border: 1px solid var(--tactical-tan);
      color: var(--tactical-tan);
      padding: 5px 12px;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: bold;
      letter-spacing: 1px;
    }

    /* === 2. MAIN MISSION CONTAINER === */
    .mission-container {
      max-width: 900px;
      margin: 30px auto;
      background: #fff;
      border: none;
      border-top: 5px solid var(--od-green);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border-radius: 5px;
      overflow: hidden;
    }
    .mission-header {
      background: #222;
      color: white;
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--od-green);
    }
    .mission-title {
      font-family: 'Black Ops One', cursive;
      font-size: 1.4rem;
      color: var(--tactical-tan);
    }

    /* --- Operations Area --- */
    .mission-body { padding: 20px 30px; }

    .img-intel-box {
      background: #000;
      padding: 10px;
      border-radius: 4px;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .img-intel {
      width: 100%;
      max-height: 450px;
      object-fit: contain;
      filter: sepia(20%) contrast(110%) brightness(90%);
      border: 1px solid #333;
    }
    .img-intel.blank-slide {
        background-color: #fff;
        filter: none;
        border: 2px dashed #ccc;
    }

    /* --- Modern Timers --- */
    .timer-display {
      font-family: 'Chakra Petch', sans-serif;
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--od-green);
      text-align: center;
      margin: 15px 0;
      text-shadow: 0px 2px 5px rgba(0,0,0,0.1);
    }

    /* --- Buttons --- */
    .btn-tactical {
      background: var(--od-green);
      color: white;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: 700;
      letter-spacing: 1px;
      padding: 15px 30px;
      border: none;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    .btn-tactical:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px -10px rgba(58, 75, 44, 0.5);
      color: var(--tactical-tan);
    }
    .btn-skip {
      background: transparent;
      border: none;
      color: #6c757d;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .btn-skip:hover { color: var(--alert-red); }

    /* === 3. AI ASSISTANT (MAJOR OLIVE) === */
    .ai-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    .ai-chat-box {
      background: rgba(18, 18, 18, 0.95);
      backdrop-filter: blur(10px);
      border-left: 3px solid var(--tech-cyan);
      color: #eee;
      padding: 15px;
      border-radius: 10px 10px 2px 10px;
      max-width: 300px;
      margin-bottom: 10px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      font-family: 'Chakra Petch', sans-serif;
      font-size: 0.95rem;
      display: none; /* Hidden initially */
      animation: slideInRight 0.4s ease-out;
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .ai-avatar {
      width: 60px;
      height: 60px;
      background: var(--od-green);
      border-radius: 50%;
      border: 2px solid var(--tech-cyan);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--tech-cyan);
      font-size: 1.8rem;
      box-shadow: 0 0 15px rgba(0, 255, 204, 0.3);
      cursor: pointer;
      transition: all 0.3s;
    }
    .ai-avatar:hover { transform: scale(1.1); }
    .ai-typing {
      font-style: italic;
      color: var(--tech-cyan);
      font-size: 0.8rem;
      margin-bottom: 5px;
    }

    /* === 4. CLASSIFIED FOLDER === */
    .classified-folder {
      background: #fdf5e6;
      border: 1px solid #d4c5b9;
      position: relative;
      margin-top: 50px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    .folder-tab {
      position: absolute;
      top: -30px;
      left: 0;
      background: var(--alert-red);
      color: white;
      padding: 5px 20px;
      font-family: 'Black Ops One', cursive;
      font-size: 0.9rem;
      border-radius: 5px 5px 0 0;
    }
    .folder-body {
      padding: 40px;
      font-family: 'Courier New', monospace;
      line-height: 1.6;
      background-image: repeating-linear-gradient(transparent, transparent 27px, #e5e5e5 28px);
    }

    /* === 5. NEW FOOTER === */
    .footer {
      background-color: #3C5B34;
      color: white;
      padding: 40px 20px;
      font-family: 'Chakra Petch', sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    .footer-heading {
      font-family: 'Ubuntu', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffd700; /* Gold warning color */
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .footer hr {
      border-top: 1px solid rgba(255,255,255,0.2);
      width: 60%;
      margin: 25px auto;
    }
    .footer h6 {
      color: #ccc;
      font-size: 0.9rem;
      margin-top: 20px;
    }
    .footer-quote {
        font-family: 'Roboto Condensed', sans-serif;
        font-size: 1rem;
        letter-spacing: 1px;
        opacity: 0.9;
    }

    /* Utility */
    .hidden { display: none !important; }
    .pulse-alert { animation: pulse-red 1s infinite; color: var(--alert-red); }
    @keyframes pulse-red { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

    /* Mobile Tweaks */
    @media (max-width: 768px) {
      .mission-body { padding: 15px; }
      .timer-display { font-size: 2.8rem; }
      .ai-chat-box { max-width: 85vw; font-size: 0.9rem; }
      .footer-heading { font-size: 0.9rem; }
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <i class="fas fa-medal mr-2"></i>AIMOLIVE
    </a>
    <span class="badge-rank"> SSB TERMINAL</span>
  </div>
</nav>

<div class="container">
  <div class="mission-container">
    <div class="mission-header">
      <span class="mission-title"><i class="fas fa-crosshairs"></i> OP: TAT SET ALPHA-03</span>
      <span class="text-white-50 font-weight-bold" id="missionStatus">STATUS: STANDBY</span>
    </div>

    <div class="mission-body">
      
      <div id="briefingArea" class="alert alert-secondary" style="border-left: 4px solid var(--od-green); background: #e9ecef;">
        <h5 style="color: var(--od-green); font-weight: bold;">TAT BRIEFING:</h5>
        <p class="mb-0">You will see 11 pictures and 1 blank slide sequentially. For each, you have <strong>30 seconds</strong> to observe and <strong>4 minutes</strong> to write a story. The test runs continuously.</p>
      </div>

      <div class="text-center mt-5" id="startControls">
        <button id="btnInitiate" class="btn btn-tactical btn-lg px-5">
          <i class="fas fa-play-circle"></i> INITIATE TAT SEQUENCE
        </button>
      </div>

      <div id="testArea" class="hidden">
          
          <div id="observationPhase" class="hidden mt-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
               <span class="badge badge-warning p-2"><i class="fas fa-eye"></i> OBSERVATION MODE</span>
               <span id="obsTimer" class="font-weight-bold" style="font-size: 1.5rem; color: var(--od-green);">00:30</span>
            </div>
            <div class="img-intel-box">
               <img src="" alt="INTEL" id="targetImage" class="img-intel">
            </div>
            <div class="progress mt-3" style="height: 8px;">
              <div id="obsProgressBar" class="progress-bar bg-warning" style="width: 100%"></div>
            </div>
            <div class="text-center mt-3">
              <button id="btnSkipObs" class="btn btn-skip"><i class="fas fa-forward"></i> SKIP OBSERVE</button>
            </div>
          </div>

          <div id="writingPhase" class="hidden mt-5">
            <div class="text-center mb-4">
               <div class="badge badge-primary p-2 mb-3"><i class="fas fa-pen"></i> WRITING MODE</div>
               <h2 class="text-muted">INTEL REMOVED</h2>
               <div id="writeTimer" class="timer-display">04:00</div>
            </div>
            
            <div class="progress mb-4" style="height: 10px;">
              <div id="writeProgressBar" class="progress-bar" style="background-color: var(--od-green); width: 100%"></div>
            </div>

            <textarea id="storyArea" class="form-control rounded-0" rows="10" placeholder="Start typing your story here... (Data is not saved on refresh)" style="background: #f8f9fa; border: 2px solid #e9ecef; resize: none;"></textarea>
            <div class="text-center mt-3">
              <button id="btnSkipWrite" class="btn btn-skip"><i class="fas fa-forward"></i> SKIP WRITING</button>
            </div>
          </div>

          <div id="reviewPhase" class="hidden mt-5 text-center">
             <div class="alert alert-info py-3">
               <h4><i class="fas fa-check-circle"></i> STORY RECORDED</h4>
               <p>Prepare for the next slide.</p>
             </div>
             <button id="btnNextSlide" class="btn btn-tactical btn-lg">
                NEXT SLIDE <i class="fas fa-chevron-right"></i>
             </button>
             <button id="btnShowModel" class="btn btn-dark btn-sm mt-3 d-block mx-auto">
                 <i class="fas fa-key"></i> VIEW MODEL STORY FOR THIS SLIDE
             </button>
             <div id="modelAnswerBox" class="classified-folder text-left hidden mt-4">
                <div class="folder-tab">MODEL INTEL</div>
                <div class="folder-body" id="modelAnswerText"></div>
             </div>
          </div>

      </div> <div id="finalDebrief" class="hidden mt-5 text-center">
           <div class="alert alert-success py-5">
               <h1><i class="fas fa-flag-checkered"></i> TEST COMPLETE</h1>
               <p class="lead">You have successfully completed TAT Set 3.</p>
           </div>
           <button onclick="location.reload()" class="btn btn-outline-dark btn-lg mt-3">RESTART OPERATION</button>
      </div>

    </div> </div>
</div>

<div class="ai-container">
  <div id="aiChatBox" class="ai-chat-box">
     <div class="ai-typing">Major Olive is typing...</div>
     <span id="aiMessage">Welcome back, Candidate. Ready for TAT Set 3? Click 'INITIATE' to begin the sequence.</span>
  </div>
  <div class="ai-avatar" id="aiAvatar" onclick="toggleAiChat()">
     <i class="fas fa-robot"></i>
  </div>
</div>

<section>
  <div class="footer">
    <div class="container">
        <h2 class="footer-heading">DISCLAIMER - THE WEBSITE DONT OFFER ANY COACHING AND TIPS OR INSTRUCTIONS FOR GETTING RECOMMENDED.</h2>
        <hr>
        <p>Built and maintained by a person who is,</p>
        <p class="footer-quote">HEARTY IS HIS APPROBATION AND LAVISH IN HIS PRAISE.</p>
        <h6>Copyright 2025</h6>
        <p class="mt-3">Made with ❤️ by <strong>sumanisfr</strong></p>
    </div>
  </div>
</section>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // --- CONFIGURATION ---
  const TOTAL_SLIDES = 12;
  const OBS_TIME = 30;
  const WRITE_TIME = 240; 
  let currentSlide = 1;

  // --- MODEL ANSWERS FOR SET 3 (Slides 23-33 approx based on your file names tat23.jpg to tat33.jpg + blank) ---
  // IMPORTANT: Adjust the keys if your image naming is different. I'm assuming tat23.jpg is the 1st slide of THIS set.
  const modelAnswers = {
      1: "Arjun (26), a wildlife officer, spotted poachers setting traps in a protected forest. He alerted his team, tracked them silently, and successfully apprehended them before any harm was done to the animals.",
      2: "Meera (24), a newly appointed teacher in a rural school, noticed low attendance of girls. She met their parents, explained the benefits of education, and organized safe transport, increasing enrollment by 50%.",
      3: "Vikram (28), a mountaineer, encountered a fellow climber suffering from altitude sickness. He abandoned his summit push, administered first aid, and safely escorted him down to base camp, saving his life.",
      4: "Priya (25), an IT professional, saw an elderly couple struggling with digital banking. She patiently taught them how to use the app securely, enabling them to manage their finances independently from home.",
      5: "Rohan (23), seeing garbage piling up in his locality, organized a weekend cleanliness drive with friends. They cleared the area, installed bins, and educated residents on waste segregation.",
      6: "Captain Sameer (29) was leading a patrol when they were ambushed. He quickly assessed the situation, directed his men to cover, returned fire effectively, and neutralized the insurgents without any casualties to his team.",
      7: "Anjali (27), a doctor, organized a free medical camp in a flood-hit village. She treated hundreds of patients, distributed essential medicines, and spread awareness about waterborne diseases to prevent an outbreak.",
      8: "Karan (22), a student, witnessed a road accident. He immediately called an ambulance, noted the offending vehicle's number, provided first aid to the victim, and later helped police with the investigation.",
      9: "Sneha (26), a bank manager, noticed a farmer distressed over a loan rejection due to incomplete paperwork. She personally guided him through the process, helped him get the necessary documents, and sanctioned the loan for his new crop season.",
      10: "Rahul (25), during a college trekking trip, realized they had lost their way in a dense forest as evening approached. He stayed calm, used basic navigation skills to find a stream, followed it to a nearby village, and ensured everyone's safety.",
      11: "Deepa (30), a scientist, was working on a project that faced repeated failures. Instead of giving up, she re-analyzed the data, identified a minor error in the initial hypothesis, corrected it, and successfully completed the breakthrough research.",
      12: "(BLANK SLIDE) - SELF PROJECTION: Aman (23), an NCC cadet, aspired to join the armed forces. He followed a strict routine of physical training, read extensively about military history, developed his leadership skills by organizing college events, and finally cleared the SSB with flying colors."
  };

  // --- GLOBAL ELEMENTS ---
  const missionStatus = document.getElementById('missionStatus');
  const testArea = document.getElementById('testArea');
  const obsPhase = document.getElementById('observationPhase');
  const writePhase = document.getElementById('writingPhase');
  const reviewPhase = document.getElementById('reviewPhase');
  const targetImage = document.getElementById('targetImage');
  const obsTimer = document.getElementById('obsTimer');
  const obsProgress = document.getElementById('obsProgressBar');
  const writeTimer = document.getElementById('writeTimer');
  const writeProgress = document.getElementById('writeProgressBar');
  const storyArea = document.getElementById('storyArea');
  const modelAnswerBox = document.getElementById('modelAnswerBox');
  const modelAnswerText = document.getElementById('modelAnswerText');

  let obsInterval, writeInterval, aiTimeout;

  // --- AI ASSISTANT ---
  function aiSpeak(message, autoHide = true) {
    clearTimeout(aiTimeout);
    const chatBox = document.getElementById('aiChatBox');
    chatBox.style.display = 'block';
    document.querySelector('.ai-typing').style.display = 'block';
    document.getElementById('aiMessage').style.opacity = '0.5';

    setTimeout(() => {
       document.querySelector('.ai-typing').style.display = 'none';
       document.getElementById('aiMessage').style.opacity = '1';
       document.getElementById('aiMessage').innerHTML = message;
       if(autoHide) aiTimeout = setTimeout(() => { chatBox.style.display = 'none'; }, 8000);
    }, 600);
  }
  function toggleAiChat() {
     const chatBox = document.getElementById('aiChatBox');
     chatBox.style.display = (chatBox.style.display === 'none' || chatBox.style.display === '') ? 'block' : 'none';
  }

  // --- SEQUENCE CONTROLLER ---
  document.getElementById('btnInitiate').addEventListener('click', startSequence);
  document.getElementById('btnNextSlide').addEventListener('click', nextSlide);
  document.getElementById('btnSkipObs').addEventListener('click', skipObs);
  document.getElementById('btnSkipWrite').addEventListener('click', skipWrite);
  document.getElementById('btnShowModel').addEventListener('click', showModel);

  function startSequence() {
      document.getElementById('startControls').classList.add('hidden');
      document.getElementById('briefingArea').classList.add('hidden');
      testArea.classList.remove('hidden');
      runSlide(currentSlide);
  }

  function runSlide(slideNum) {
      reviewPhase.classList.add('hidden');
      modelAnswerBox.classList.add('hidden');
      storyArea.value = ''; 
      storyArea.disabled = false;
      missionStatus.textContent = `STATUS: SLIDE ${slideNum}/${TOTAL_SLIDES} ACTIVE`;
      
      // MAP SLIDE NUMBER TO IMAGE FILE NAME (tat23.jpg, tat24.jpg...)
      // Slide 1 here = tat23.jpg, Slide 2 = tat24.jpg, etc.
      const imageIndex = slideNum + 22; 

      if (slideNum === 12) {
          targetImage.src = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";
          targetImage.classList.add('blank-slide');
          aiSpeak("Final Slide: BLANK. This is your opportunity to showcase your aspirations.");
      } else {
          targetImage.src = `tatpics/tat${imageIndex}.jpg`;
          targetImage.classList.remove('blank-slide');
          if(slideNum === 1) aiSpeak("Slide 1 started. Find the problem and solve it.");
      }

      obsPhase.classList.remove('hidden');
      let timeLeft = OBS_TIME;
      obsInterval = setInterval(() => {
          timeLeft--;
          obsTimer.textContent = `00:${timeLeft < 10 ? '0'+timeLeft : timeLeft}`;
          obsProgress.style.width = (timeLeft/OBS_TIME)*100 + "%";
          if(timeLeft <= 0) { clearInterval(obsInterval); endObs(); }
      }, 1000);
  }

  function endObs() {
      obsPhase.classList.add('hidden');
      writePhase.classList.remove('hidden');
      writePhase.style.opacity = '1';
      
      let timeLeft = WRITE_TIME;
      writeInterval = setInterval(() => {
          timeLeft--;
          let m = Math.floor(timeLeft / 60);
          let s = timeLeft % 60;
          writeTimer.textContent = `${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
          writeProgress.style.width = (timeLeft/WRITE_TIME)*100 + "%";
          
          if(timeLeft === 60) aiSpeak("Last minute! Bring your story to a positive conclusion.");
          if(timeLeft <= 0) { clearInterval(writeInterval); endWrite(); }
      }, 1000);
  }

  function endWrite() {
      writePhase.classList.add('hidden');
      reviewPhase.classList.remove('hidden');
      if (currentSlide < TOTAL_SLIDES) {
          aiSpeak("Slide complete. Get ready for the next one.");
      } else {
          aiSpeak("Test complete. Great job staying focused.");
          document.getElementById('btnNextSlide').textContent = "FINISH TEST";
      }
  }

  function nextSlide() {
      currentSlide++;
      if (currentSlide <= TOTAL_SLIDES) {
          runSlide(currentSlide);
      } else {
          testArea.classList.add('hidden');
          document.getElementById('finalDebrief').classList.remove('hidden');
          missionStatus.textContent = "STATUS: MISSION ACCOMPLISHED";
      }
  }

  function showModel() {
      modelAnswerText.textContent = modelAnswers[currentSlide];
      modelAnswerBox.classList.remove('hidden');
      modelAnswerBox.scrollIntoView({behavior:'smooth'});
  }

  function skipObs() { clearInterval(obsInterval); endObs(); }
  function skipWrite() { clearInterval(writeInterval); endWrite(); }

</script>
</body>
</html>