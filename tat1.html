<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AimOlive | TAT ARENA</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Chakra+Petch:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --od-green: #3a4b2c;       /* Deep Indian Army Green */
      --tactical-tan: #d2b48c;   /* Desert Tan */
      --alert-red: #e74c3c;
      --tech-cyan: #00ffcc;      /* For AI highlights */
    }

    body {
      font-family: 'Roboto Condensed', sans-serif;
      background-color: #f0f2ed;
      background-image: radial-gradient(#3a4b2c 0.5px, transparent 0.5px), radial-gradient(#3a4b2c 0.5px, #f0f2ed 0.5px);
      background-size: 20px 20px;
      color: #333;
    }

    /* === 1. TACTICAL NAVBAR === */
    .navbar {
      background: linear-gradient(90deg, var(--od-green), #232d1a);
      border-bottom: 4px solid var(--tactical-tan);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .navbar-brand {
      font-family: 'Black Ops One', cursive;
      letter-spacing: 1.5px;
      color: var(--tactical-tan) !important;
    }
    .badge-rank {
      background: rgba(0,0,0,0.3);
      border: 1px solid var(--tactical-tan);
      color: var(--tactical-tan);
      padding: 5px 12px;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: bold;
      letter-spacing: 1px;
    }

    /* === 2. MAIN MISSION CONTAINER === */
    .mission-container {
      max-width: 900px;
      margin: 30px auto;
      background: #fff;
      border: none;
      border-top: 5px solid var(--od-green);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border-radius: 5px;
      overflow: hidden;
    }
    .mission-header {
      background: #222;
      color: white;
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--od-green);
    }
    .mission-title {
      font-family: 'Black Ops One', cursive;
      font-size: 1.4rem;
      color: var(--tactical-tan);
    }

    /* --- Operations Area --- */
    .mission-body { padding: 20px 30px; }

    .img-intel-box {
      background: #000;
      padding: 10px;
      border-radius: 4px;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .img-intel {
      width: 100%;
      max-height: 450px;
      object-fit: contain;
      filter: sepia(20%) contrast(110%) brightness(90%);
      border: 1px solid #333;
    }
    /* For Blank Slide */
    .img-intel.blank-slide {
        background-color: #fff;
        filter: none;
        border: 2px dashed #ccc;
    }

    /* --- Modern Timers --- */
    .timer-display {
      font-family: 'Chakra Petch', sans-serif;
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--od-green);
      text-align: center;
      margin: 15px 0;
      text-shadow: 0px 2px 5px rgba(0,0,0,0.1);
    }

    /* --- Buttons --- */
    .btn-tactical {
      background: var(--od-green);
      color: white;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: 700;
      letter-spacing: 1px;
      padding: 15px 30px;
      border: none;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    .btn-tactical:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px -10px rgba(58, 75, 44, 0.5);
      color: var(--tactical-tan);
    }
    .btn-skip {
      background: transparent;
      border: none;
      color: #6c757d;
      font-family: 'Chakra Petch', sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .btn-skip:hover { color: var(--alert-red); }

    /* === 3. AI ASSISTANT (MAJOR OLIVE) === */
    .ai-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    .ai-chat-box {
      background: rgba(18, 18, 18, 0.95);
      backdrop-filter: blur(10px);
      border-left: 3px solid var(--tech-cyan);
      color: #eee;
      padding: 15px;
      border-radius: 10px 10px 2px 10px;
      max-width: 300px;
      margin-bottom: 10px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      font-family: 'Chakra Petch', sans-serif;
      font-size: 0.95rem;
      display: none; /* Hidden initially */
      animation: slideInRight 0.4s ease-out;
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .ai-avatar {
      width: 60px;
      height: 60px;
      background: var(--od-green);
      border-radius: 50%;
      border: 2px solid var(--tech-cyan);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--tech-cyan);
      font-size: 1.8rem;
      box-shadow: 0 0 15px rgba(0, 255, 204, 0.3);
      cursor: pointer;
      transition: all 0.3s;
    }
    .ai-avatar:hover { transform: scale(1.1); }
    .ai-typing {
      font-style: italic;
      color: var(--tech-cyan);
      font-size: 0.8rem;
      margin-bottom: 5px;
    }

    /* === 4. CLASSIFIED FOLDER === */
    .classified-folder {
      background: #fdf5e6;
      border: 1px solid #d4c5b9;
      position: relative;
      margin-top: 50px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    .folder-tab {
      position: absolute;
      top: -30px;
      left: 0;
      background: var(--alert-red);
      color: white;
      padding: 5px 20px;
      font-family: 'Black Ops One', cursive;
      font-size: 0.9rem;
      border-radius: 5px 5px 0 0;
    }
    .folder-body {
      padding: 40px;
      font-family: 'Courier New', monospace;
      line-height: 1.6;
      background-image: repeating-linear-gradient(transparent, transparent 27px, #e5e5e5 28px);
    }

    /* === 5. NEW FOOTER === */
    .footer {
      background-color: #3C5B34;
      color: white;
      padding: 40px 20px;
      font-family: 'Chakra Petch', sans-serif;
      text-align: center;
      margin-top: 50px;
    }
    .footer-heading {
      font-family: 'Ubuntu', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      color: #ffd700; /* Gold warning color */
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .footer hr {
      border-top: 1px solid rgba(255,255,255,0.2);
      width: 60%;
      margin: 25px auto;
    }
    .footer h6 {
      color: #ccc;
      font-size: 0.9rem;
      margin-top: 20px;
    }
    .footer-quote {
        font-family: 'Roboto Condensed', sans-serif;
        font-size: 1rem;
        letter-spacing: 1px;
        opacity: 0.9;
    }

    /* Utility */
    .hidden { display: none !important; }
    .pulse-alert { animation: pulse-red 1s infinite; color: var(--alert-red); }
    @keyframes pulse-red { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

    /* Mobile Tweaks */
    @media (max-width: 768px) {
      .mission-body { padding: 15px; }
      .timer-display { font-size: 2.8rem; }
      .ai-chat-box { max-width: 85vw; font-size: 0.9rem; }
      .footer-heading { font-size: 0.9rem; }
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <i class="fas fa-medal mr-2"></i>AIMOLIVE
    </a>
    <span class="badge-rank"> SSB TERMINAL</span>
  </div>
</nav>

<div class="container">
  <div class="mission-container">
    <div class="mission-header">
      <span class="mission-title"><i class="fas fa-crosshairs"></i> OP: TAT SEQUENTIAL</span>
      <span class="text-white-50 font-weight-bold" id="missionStatus">STATUS: STANDBY</span>
    </div>

    <div class="mission-body">
      
      <div id="briefingArea" class="alert alert-secondary" style="border-left: 4px solid var(--od-green); background: #e9ecef;">
        <h5 style="color: var(--od-green); font-weight: bold;">TAT BRIEFING:</h5>
        <p class="mb-0">You will see 11 pictures and 1 blank slide sequentially. For each, you have <strong>30 seconds</strong> to observe and <strong>4 minutes</strong> to write a story. The test runs continuously.</p>
      </div>

      <div class="text-center mt-5" id="startControls">
        <button id="btnInitiate" class="btn btn-tactical btn-lg px-5">
          <i class="fas fa-play-circle"></i> INITIATE TAT SEQUENCE
        </button>
      </div>

      <div id="testArea" class="hidden">
          
          <div id="observationPhase" class="hidden mt-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
               <span class="badge badge-warning p-2"><i class="fas fa-eye"></i> OBSERVATION MODE</span>
               <span id="obsTimer" class="font-weight-bold" style="font-size: 1.5rem; color: var(--od-green);">00:30</span>
            </div>
            <div class="img-intel-box">
               <img src="" alt="INTEL" id="targetImage" class="img-intel">
            </div>
            <div class="progress mt-3" style="height: 8px;">
              <div id="obsProgressBar" class="progress-bar bg-warning" style="width: 100%"></div>
            </div>
            <div class="text-center mt-3">
              <button id="btnSkipObs" class="btn btn-skip"><i class="fas fa-forward"></i> SKIP OBSERVE</button>
            </div>
          </div>

          <div id="writingPhase" class="hidden mt-5">
            <div class="text-center mb-4">
               <div class="badge badge-primary p-2 mb-3"><i class="fas fa-pen"></i> WRITING MODE</div>
               <h2 class="text-muted">INTEL REMOVED</h2>
               <div id="writeTimer" class="timer-display">04:00</div>
            </div>
            
            <div class="progress mb-4" style="height: 10px;">
              <div id="writeProgressBar" class="progress-bar" style="background-color: var(--od-green); width: 100%"></div>
            </div>

            <textarea id="storyArea" class="form-control rounded-0" rows="10" placeholder="Start typing your story here... (Data is not saved on refresh)" style="background: #f8f9fa; border: 2px solid #e9ecef; resize: none;"></textarea>
            <div class="text-center mt-3">
              <button id="btnSkipWrite" class="btn btn-skip"><i class="fas fa-forward"></i> SKIP WRITING</button>
            </div>
          </div>

          <div id="reviewPhase" class="hidden mt-5 text-center">
             <div class="alert alert-info py-3">
               <h4><i class="fas fa-check-circle"></i> STORY RECORDED</h4>
               <p>Prepare for the next slide.</p>
             </div>
             <button id="btnNextSlide" class="btn btn-tactical btn-lg">
                NEXT SLIDE <i class="fas fa-chevron-right"></i>
             </button>
              <button id="btnShowModel" class="btn btn-dark btn-sm mt-3 d-block mx-auto">
                 <i class="fas fa-key"></i> VIEW MODEL STORY FOR THIS SLIDE
             </button>
             <div id="modelAnswerBox" class="classified-folder text-left hidden mt-4">
                <div class="folder-tab">MODEL INTEL</div>
                <div class="folder-body" id="modelAnswerText">
                    </div>
             </div>
          </div>

      </div> <div id="finalDebrief" class="hidden mt-5 text-center">
           <div class="alert alert-success py-5">
               <h1><i class="fas fa-flag-checkered"></i> TEST COMPLETE</h1>
               <p class="lead">You have successfully completed the Thematic Apperception Test sequence.</p>
           </div>
           <button onclick="location.reload()" class="btn btn-outline-dark btn-lg mt-3">RESTART OPERATION</button>
      </div>

    </div> </div>
</div>

<div class="ai-container">
  <div id="aiChatBox" class="ai-chat-box">
     <div class="ai-typing">Major Olive is typing...</div>
     <span id="aiMessage">Welcome, Candidate. I am Major Olive. TAT requires speed and imagination. Click 'INITIATE' to begin the 12-slide sequence.</span>
  </div>
  <div class="ai-avatar" id="aiAvatar" onclick="toggleAiChat()">
     <i class="fas fa-robot"></i>
  </div>
</div>

<section>
  <div class="footer">
    <div class="container">
        <h2 class="footer-heading">DISCLAIMER - THE WEBSITE DONT OFFER ANY COACHING AND TIPS OR INSTRUCTIONS FOR GETTING RECOMMENDED.</h2>
        <hr>
        <p>Built and maintained by a person who is,</p>
        <p class="footer-quote">HEARTY IS HIS APPROBATION AND LAVISH IN HIS PRAISE.</p>
        <h6>Copyright 2025</h6>
        <p class="mt-3">Made with ❤️ by <strong>sumanisfr</strong></p>
    </div>
  </div>
</section>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // --- CONFIGURATION ---
  const TOTAL_SLIDES = 12;
  const OBS_TIME = 30;
  const WRITE_TIME = 240; 
  let currentSlide = 1;

  // --- MODEL ANSWERS DATABASE (You need to fill these in!) ---
  const modelAnswers = {
      1: "Vikram (26), a Junior Engineer, noticed damaged power lines during a cyclone. He mobilized his team immediately, divided them into debris clearance and repair squads, and worked for 8 hours to restore power to essential services first.",
      2: "Rohan (23), a medical student, organized a free health camp in a nearby village after noticing poor health awareness. He arranged doctors, medicines from NGOs, and successfully treated over 200 villagers.",
      3: "Anjali (24), a teacher, started evening classes for slum children. She gathered study materials from donations and dedicated 2 hours daily, helping 15 children enroll in formal schools.",
      4: "Arjun (25), Sports Secretary, organized a district-level tournament to engage idle youth. He secured sponsorship, managed logistics, and the event led to the formation of a permanent local sports club.",
      5: "Kavita (22) mediated a conflict between two student groups over a college fest. She proposed a collaborative event where both could showcase talents, leading to a successful fest and reconciliation.",
      6: "Rahul (27), an NGO volunteer, coordinated relief efforts during a flood. He led a team to distribute food packets, set up medical camps, and assisted in rescuing stranded families.",
      7: "Sanjay (28), a trek guide, kept his group calm when they lost the trail due to fog. He used a map and compass to find a landmark, waited for clarity, and guided them safely back to base camp.",
      8: "Priya (24), a software engineer, developed an app to connect local farmers directly with consumers, eliminating middlemen and increasing their profits by 30%.",
      9: "Amit (26), seeing increasing road accidents, organized a traffic awareness drive with local police. They used street plays and pamphlets to educate citizens, reducing accidents significantly.",
      10: "Neha (25) noticed water scarcity in her village. She mobilized youth to de-silt an old village pond before monsoons. The pond filled up, solving the water crisis for the summer.",
      11: "Karan (29), an army officer, led a rescue mission during a landslide. Despite harsh conditions, his team cleared the roads and evacuated injured tourists safely to the nearest hospital.",
      12: "(BLANK SLIDE) - SELF PROJECTION: Aman (24), a determined defence aspirant, followed a strict disciplined routine of physical fitness and studies. He identified his weak areas, took guidance from mentors, and finally cleared the SSB with merit."
  };

  // --- GLOBAL ELEMENTS ---
  const missionStatus = document.getElementById('missionStatus');
  const testArea = document.getElementById('testArea');
  const obsPhase = document.getElementById('observationPhase');
  const writePhase = document.getElementById('writingPhase');
  const reviewPhase = document.getElementById('reviewPhase');
  const targetImage = document.getElementById('targetImage');
  const obsTimer = document.getElementById('obsTimer');
  const obsProgress = document.getElementById('obsProgressBar');
  const writeTimer = document.getElementById('writeTimer');
  const writeProgress = document.getElementById('writeProgressBar');
  const storyArea = document.getElementById('storyArea');
  const modelAnswerBox = document.getElementById('modelAnswerBox');
  const modelAnswerText = document.getElementById('modelAnswerText');

  let obsInterval, writeInterval, aiTimeout;

  // --- AI ASSISTANT ---
  function aiSpeak(message, autoHide = true) {
    clearTimeout(aiTimeout);
    const chatBox = document.getElementById('aiChatBox');
    chatBox.style.display = 'block';
    document.querySelector('.ai-typing').style.display = 'block';
    document.getElementById('aiMessage').style.opacity = '0.5';

    setTimeout(() => {
       document.querySelector('.ai-typing').style.display = 'none';
       document.getElementById('aiMessage').style.opacity = '1';
       document.getElementById('aiMessage').innerHTML = message;
       if(autoHide) aiTimeout = setTimeout(() => { chatBox.style.display = 'none'; }, 8000);
    }, 600);
  }
  function toggleAiChat() {
     const chatBox = document.getElementById('aiChatBox');
     chatBox.style.display = (chatBox.style.display === 'none' || chatBox.style.display === '') ? 'block' : 'none';
  }

  // --- SEQUENCE CONTROLLER ---
  document.getElementById('btnInitiate').addEventListener('click', startSequence);
  document.getElementById('btnNextSlide').addEventListener('click', nextSlide);
  document.getElementById('btnSkipObs').addEventListener('click', skipObs);
  document.getElementById('btnSkipWrite').addEventListener('click', skipWrite);
  document.getElementById('btnShowModel').addEventListener('click', showModel);

  function startSequence() {
      document.getElementById('startControls').classList.add('hidden');
      document.getElementById('briefingArea').classList.add('hidden');
      testArea.classList.remove('hidden');
      runSlide(currentSlide);
  }

  function runSlide(slideNum) {
      // Reset UI for new slide
      reviewPhase.classList.add('hidden');
      modelAnswerBox.classList.add('hidden');
      storyArea.value = ''; 
      storyArea.disabled = false;
      missionStatus.textContent = `STATUS: SLIDE ${slideNum}/${TOTAL_SLIDES} ACTIVE`;
      
      // Setup Image
      if (slideNum === 12) {
          targetImage.src = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="; // Transparent blank
          targetImage.classList.add('blank-slide');
          aiSpeak("Final Slide: BLANK. This is your chance to project your own qualities. Write a pre-prepared positive story reflecting your ambitions.");
      } else {
          targetImage.src = `tatpics/tat${slideNum}.jpg`;
          targetImage.classList.remove('blank-slide');
          if(slideNum === 1) aiSpeak("Slide 1: Observation started. Identify the main hero immediately.");
      }

      // Start Observation
      obsPhase.classList.remove('hidden');
      let timeLeft = OBS_TIME;
      obsInterval = setInterval(() => {
          timeLeft--;
          obsTimer.textContent = `00:${timeLeft < 10 ? '0'+timeLeft : timeLeft}`;
          obsProgress.style.width = (timeLeft/OBS_TIME)*100 + "%";
          if(timeLeft <= 0) { clearInterval(obsInterval); endObs(); }
      }, 1000);
  }

  function endObs() {
      obsPhase.classList.add('hidden');
      writePhase.classList.remove('hidden');
      writePhase.style.opacity = '1';
      if(currentSlide !== 12) aiSpeak("Write now. Focus on actions and outcome.");
      
      let timeLeft = WRITE_TIME;
      writeInterval = setInterval(() => {
          timeLeft--;
          let m = Math.floor(timeLeft / 60);
          let s = timeLeft % 60;
          writeTimer.textContent = `${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
          writeProgress.style.width = (timeLeft/WRITE_TIME)*100 + "%";
          
          if(timeLeft === 60) aiSpeak("Last minute! Conclude your story.");
          if(timeLeft <= 0) { clearInterval(writeInterval); endWrite(); }
      }, 1000);
  }

  function endWrite() {
      writePhase.classList.add('hidden');
      reviewPhase.classList.remove('hidden');
      if (currentSlide < TOTAL_SLIDES) {
          aiSpeak("Slide complete. Prepare for the next one immediately.");
      } else {
          aiSpeak("Test complete. Well done keeping up with the pace.");
          document.getElementById('btnNextSlide').textContent = "FINISH TEST";
      }
  }

  function nextSlide() {
      currentSlide++;
      if (currentSlide <= TOTAL_SLIDES) {
          runSlide(currentSlide);
      } else {
          testArea.classList.add('hidden');
          document.getElementById('finalDebrief').classList.remove('hidden');
          missionStatus.textContent = "STATUS: MISSION ACCOMPLISHED";
      }
  }

  function showModel() {
      modelAnswerText.textContent = modelAnswers[currentSlide];
      modelAnswerBox.classList.remove('hidden');
      modelAnswerBox.scrollIntoView({behavior:'smooth'});
  }

  function skipObs() { clearInterval(obsInterval); endObs(); }
  function skipWrite() { clearInterval(writeInterval); endWrite(); }

</script>
</body>
</html>